" vim: ft=vim:

" Using <SPACE> to fold or unfold
nnoremap <silent> <SPACE><SPACE> @=((foldclosed(line('.')) < 0) ? 'zc' : 'zo')<CR>
" nnoremap <silent> <SPACE><CR> zi
nnoremap <silent><expr> <SPACE><CR> &foldlevel ? 'zM' :'zR'

" Disable highlight & redraw
nnoremap <silent> <leader><cr> :nohlsearch<cr>:diffupdate<cr>:syntax sync fromstart<cr><c-l>

" These create newlines like o and O but stay in normal mode
nnoremap <silent> zj o<Esc>k
nnoremap <silent> zk O<Esc>j
nnoremap <silent> zl i <Esc>l

" Quit
noremap <C-c> :q<cr>
" Save write
noremap <C-s> :update<cr>
" Save & quit
noremap <C-x> :x<cr>


" Save and suspend
noremap <leader>bg :w<cr><C-z>

" Yank & paste
noremap  <c-y> "+yy
vnoremap <c-y> "+y
" inoremap <C-y> <C-o>"+P
inoremap <c-v> <c-o>:set paste<cr><c-r>+<c-o>:set nopaste<cr>

" Select pasted text
noremap gp `[v`]


noremap H 0
noremap L $

" Emacs style key mapping
inoremap <C-a> <Home>
inoremap <C-e> <End>
inoremap <leader>a <End>
inoremap <leader>e <End>
inoremap <C-h> <BS>
inoremap <C-d> <Del>
inoremap <C-f> <Right>
inoremap <C-b> <Left>
" In insert mode, pressing Ctrl-O switches to normal mode for one command, then switches back to insert mode when the command is finished.
inoremap <C-k> <C-o>D
inoremap <C-u> <Esc>v0c


